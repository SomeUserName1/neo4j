<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (11.0.8) on Wed Dec 02 12:58:02 CET 2020 -->
<title>IOLimiter (Neo4j 4.2.2-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-12-02">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IOLimiter (Neo4j 4.2.2-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":18,"i1":18,"i2":18,"i3":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IOLimiter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.neo4j.io.pagecache</a></div>
<h2 title="Interface IOLimiter" class="title">Interface IOLimiter</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public interface <span class="typeNameLabel">IOLimiter</span></pre>
<div class="block">IOLimiter instances can be passed to the <a href="PageCache.html#flushAndForce(org.neo4j.io.pagecache.IOLimiter)"><code>PageCache.flushAndForce(IOLimiter)</code></a> and
 <a href="PagedFile.html#flushAndForce(org.neo4j.io.pagecache.IOLimiter)"><code>PagedFile.flushAndForce(IOLimiter)</code></a> methods, which will invoke the
 <a href="#maybeLimitIO(long,int,java.io.Flushable)"><code>maybeLimitIO(long, int, Flushable)</code></a> method on regular intervals.
 <p/>
 This allows the limiter to measure the rate of IO, and inject sleeps, pauses or flushes into the process.
 The flushes are in this case referring to the underlying hardware.
 <p/>
 Normally, flushing a channel will just copy the dirty buffers into the OS page cache, but flushing is in this case
 implying that the OS pages are cleared as well. In other words, the IOPSLimiter can make sure that the operating
 system does not pile up too much IO work in its page cache, by flushing those caches as well on regular intervals.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#INITIAL_STAMP">INITIAL_STAMP</a></span></code></th>
<td class="colLast">
<div class="block">The value of the initial stamp; that is, what should be passed as the <code>previousStamp</code> to
 <a href="#maybeLimitIO(long,int,java.io.Flushable)"><code>maybeLimitIO(long, int, Flushable)</code></a> on the first call in a flush.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="IOLimiter.html" title="interface in org.neo4j.io.pagecache">IOLimiter</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#UNLIMITED">UNLIMITED</a></span></code></th>
<td class="colLast">
<div class="block">An IOPSLimiter implementation that does not restrict the rate of IO.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>default void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#disableLimit()">disableLimit</a></span>()</code></th>
<td class="colLast">
<div class="block">Temporarily disable the IOLimiter, to allow IO to proceed at full speed.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>default void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#enableLimit()">enableLimit</a></span>()</code></th>
<td class="colLast">
<div class="block">Re-enable the IOLimiter, after having disabled it with <a href="#disableLimit()"><code>disableLimit()</code></a>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>default boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isLimited()">isLimited</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#maybeLimitIO(long,int,java.io.Flushable)">maybeLimitIO</a></span>&#8203;(long&nbsp;previousStamp,
            int&nbsp;recentlyCompletedIOs,
            <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Flushable.html?is-external=true" title="class or interface in java.io" class="externalLink">Flushable</a>&nbsp;flushable)</code></th>
<td class="colLast">
<div class="block">Invoked at regular intervals during flushing of the <a href="PageCache.html" title="interface in org.neo4j.io.pagecache"><code>PageCache</code></a> or <a href="PagedFile.html" title="interface in org.neo4j.io.pagecache"><code>PagedFile</code></a>s.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="INITIAL_STAMP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INITIAL_STAMP</h4>
<pre>static final&nbsp;long INITIAL_STAMP</pre>
<div class="block">The value of the initial stamp; that is, what should be passed as the <code>previousStamp</code> to
 <a href="#maybeLimitIO(long,int,java.io.Flushable)"><code>maybeLimitIO(long, int, Flushable)</code></a> on the first call in a flush.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.neo4j.io.pagecache.IOLimiter.INITIAL_STAMP">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="UNLIMITED">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UNLIMITED</h4>
<pre>static final&nbsp;<a href="IOLimiter.html" title="interface in org.neo4j.io.pagecache">IOLimiter</a> UNLIMITED</pre>
<div class="block">An IOPSLimiter implementation that does not restrict the rate of IO. Use this implementation if you want the
 flush to go as fast as possible.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="maybeLimitIO(long,int,java.io.Flushable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maybeLimitIO</h4>
<pre class="methodSignature">long&nbsp;maybeLimitIO&#8203;(long&nbsp;previousStamp,
                  int&nbsp;recentlyCompletedIOs,
                  <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Flushable.html?is-external=true" title="class or interface in java.io" class="externalLink">Flushable</a>&nbsp;flushable)</pre>
<div class="block">Invoked at regular intervals during flushing of the <a href="PageCache.html" title="interface in org.neo4j.io.pagecache"><code>PageCache</code></a> or <a href="PagedFile.html" title="interface in org.neo4j.io.pagecache"><code>PagedFile</code></a>s.
 <p/>
 For the first call in a flush, the <code>previousStamp</code> should have the <a href="#INITIAL_STAMP"><code>INITIAL_STAMP</code></a> value.
 The return value of this method should then be used as the stamp of the next call. This allows implementations
 to be stateless, yet still keep some context around about a given flush, provided they can encode it as a
 <code>long</code>.
 <p/>
 The meaning of this long value is totally opaque to the caller, and can be anything the IOPSLimiter
 implementation desires.
 <p/>
 The implementation is allowed to force changes to the storage device using the given <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Flushable.html?is-external=true" title="class or interface in java.io" class="externalLink"><code>Flushable</code></a>, or
 to perform <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html?is-external=true#sleep(long)" title="class or interface in java.lang" class="externalLink"><code>sleeps</code></a>, as it desires. It is not allowed to throw
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>InterruptedException</code></a>, however. Those should be dealt with by catching them and re-interrupting the
 current thread, or by wrapping them in <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink"><code>IOException</code></a>s.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>previousStamp</code> - The stamp from the previous call to this method, or <a href="#INITIAL_STAMP"><code>INITIAL_STAMP</code></a> if this is the
 first call to this method for the given flush.</dd>
<dd><code>recentlyCompletedIOs</code> - The number of IOs completed since the last call to this method.</dd>
<dd><code>flushable</code> - A <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Flushable.html?is-external=true" title="class or interface in java.io" class="externalLink"><code>Flushable</code></a> instance that can flush any relevant dirty system buffers, to help smooth
 out the IO load on the storage device.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new stamp to pass into the next call to this method.</dd>
</dl>
</li>
</ul>
<a id="disableLimit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disableLimit</h4>
<pre class="methodSignature">default&nbsp;void&nbsp;disableLimit()</pre>
<div class="block">Temporarily disable the IOLimiter, to allow IO to proceed at full speed.
 This call <strong>MUST</strong> be paired with a subsequent <a href="#enableLimit()"><code>enableLimit()</code></a> call.
 This method is thread-safe and reentrant. Multiple concurrent calls will "stack", and IO limitations will be
 enabled again once the last overlapping limit-disabling period ends with the "last" call to
 <a href="#enableLimit()"><code>enableLimit()</code></a>. This is conceptually similar to how a reentrant read-lock works.

 Thus, the typical usage pattern is with a <code>try-finally</code> clause, like this:

 <pre><code>
     limiter.disableLimit();
     try
     {
         // ... do work that needs maximum IO performance ...
     }
     finally
     {
         limiter.enableLimit();
     }
 </code></pre></div>
</li>
</ul>
<a id="enableLimit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enableLimit</h4>
<pre class="methodSignature">default&nbsp;void&nbsp;enableLimit()</pre>
<div class="block">Re-enable the IOLimiter, after having disabled it with <a href="#disableLimit()"><code>disableLimit()</code></a>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#disableLimit()"><code>for how to use this method.</code></a></dd>
</dl>
</li>
</ul>
<a id="isLimited()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isLimited</h4>
<pre class="methodSignature">default&nbsp;boolean&nbsp;isLimited()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if IO is currently limited</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IOLimiter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2002&#x2013;2020 <a href="https://neo4j.com/">The Neo4j Graph Database Project</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
