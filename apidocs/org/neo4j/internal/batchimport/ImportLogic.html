<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (11.0.8) on Wed Dec 02 12:58:02 CET 2020 -->
<title>ImportLogic (Neo4j 4.2.2-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-12-02">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ImportLogic (Neo4j 4.2.2-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":9,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":9,"i12":10,"i13":10,"i14":9,"i15":9,"i16":10,"i17":10,"i18":10,"i19":9,"i20":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ImportLogic.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.neo4j.internal.batchimport</a></div>
<h2 title="Class ImportLogic" class="title">Class ImportLogic</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.neo4j.internal.batchimport.ImportLogic</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Closeable.html?is-external=true" title="class or interface in java.io" class="externalLink">Closeable</a></code>, <code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang" class="externalLink">AutoCloseable</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">ImportLogic</span>
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>
implements <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Closeable.html?is-external=true" title="class or interface in java.io" class="externalLink">Closeable</a></pre>
<div class="block">Contains all algorithms and logic for doing an import. It exposes all stages as methods so that
 it's possible to implement a <a href="BatchImporter.html" title="interface in org.neo4j.internal.batchimport"><code>BatchImporter</code></a> which calls those.
 This class has state which typically gets modified in each invocation of an import method.

 To begin with the methods are fairly coarse-grained, but can and probably will be split up into smaller parts
 to allow external implementors have greater control over the flow.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="ImportLogic.Monitor.html" title="interface in org.neo4j.internal.batchimport">ImportLogic.Monitor</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;?&gt;,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#accessibleState">accessibleState</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#availableMemoryForLinking">availableMemoryForLinking</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="input/Collector.html" title="interface in org.neo4j.internal.batchimport.input">Collector</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#badCollector">badCollector</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="Configuration.html" title="interface in org.neo4j.internal.batchimport">Configuration</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#config">config</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Path.html?is-external=true" title="class or interface in java.nio.file" class="externalLink">Path</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#databaseDirectory">databaseDirectory</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../configuration/Config.html" title="class in org.neo4j.configuration">Config</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#dbConfig">dbConfig</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../collection/Dependencies.html" title="class in org.neo4j.collection">Dependencies</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#dependencies">dependencies</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="staging/ExecutionMonitor.html" title="interface in org.neo4j.internal.batchimport.staging">ExecutionMonitor</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#executionMonitor">executionMonitor</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="cache/idmapping/IdMapper.html" title="interface in org.neo4j.internal.batchimport.cache.idmapping">IdMapper</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#idMapper">idMapper</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#IMPORT_COUNT_STORE_REBUILD_TAG">IMPORT_COUNT_STORE_REBUILD_TAG</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="input/Input.html" title="interface in org.neo4j.internal.batchimport.input">Input</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#input">input</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../logging/Log.html" title="interface in org.neo4j.logging">Log</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#log">log</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#maxMemory">maxMemory</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../memory/MemoryTracker.html" title="interface in org.neo4j.memory">MemoryTracker</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#memoryTracker">memoryTracker</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="ImportLogic.Monitor.html" title="interface in org.neo4j.internal.batchimport">ImportLogic.Monitor</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#monitor">monitor</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="store/BatchingNeoStores.html" title="class in org.neo4j.internal.batchimport.store">BatchingNeoStores</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#neoStore">neoStore</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="ImportLogic.Monitor.html" title="interface in org.neo4j.internal.batchimport">ImportLogic.Monitor</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#NO_MONITOR">NO_MONITOR</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="cache/NodeLabelsCache.html" title="class in org.neo4j.internal.batchimport.cache">NodeLabelsCache</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#nodeLabelsCache">nodeLabelsCache</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="cache/NodeRelationshipCache.html" title="class in org.neo4j.internal.batchimport.cache">NodeRelationshipCache</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#nodeRelationshipCache">nodeRelationshipCache</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="cache/NumberArrayFactory.html" title="interface in org.neo4j.internal.batchimport.cache">NumberArrayFactory</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#numberArrayFactory">numberArrayFactory</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../io/pagecache/tracing/PageCacheTracer.html" title="interface in org.neo4j.io.pagecache.tracing">PageCacheTracer</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#pageCacheTracer">pageCacheTracer</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#peakMemoryUsage">peakMemoryUsage</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../kernel/impl/store/format/RecordFormats.html" title="interface in org.neo4j.kernel.impl.store.format">RecordFormats</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#recordFormats">recordFormats</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#startTime">startTime</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="DataImporter.Monitor.html" title="class in org.neo4j.internal.batchimport">DataImporter.Monitor</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#storeUpdateMonitor">storeUpdateMonitor</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#successful">successful</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.neo4j.io.layout.DatabaseLayout,org.neo4j.internal.batchimport.store.BatchingNeoStores,org.neo4j.internal.batchimport.Configuration,org.neo4j.configuration.Config,org.neo4j.logging.internal.LogService,org.neo4j.internal.batchimport.staging.ExecutionMonitor,org.neo4j.kernel.impl.store.format.RecordFormats,org.neo4j.internal.batchimport.input.Collector,org.neo4j.internal.batchimport.ImportLogic.Monitor,org.neo4j.io.pagecache.tracing.PageCacheTracer,org.neo4j.memory.MemoryTracker)">ImportLogic</a></span>&#8203;(<a href="../../io/layout/DatabaseLayout.html" title="class in org.neo4j.io.layout">DatabaseLayout</a>&nbsp;databaseLayout,
           <a href="store/BatchingNeoStores.html" title="class in org.neo4j.internal.batchimport.store">BatchingNeoStores</a>&nbsp;neoStore,
           <a href="Configuration.html" title="interface in org.neo4j.internal.batchimport">Configuration</a>&nbsp;config,
           <a href="../../configuration/Config.html" title="class in org.neo4j.configuration">Config</a>&nbsp;dbConfig,
           <a href="../../logging/internal/LogService.html" title="interface in org.neo4j.logging.internal">LogService</a>&nbsp;logService,
           <a href="staging/ExecutionMonitor.html" title="interface in org.neo4j.internal.batchimport.staging">ExecutionMonitor</a>&nbsp;executionMonitor,
           <a href="../../kernel/impl/store/format/RecordFormats.html" title="interface in org.neo4j.kernel.impl.store.format">RecordFormats</a>&nbsp;recordFormats,
           <a href="input/Collector.html" title="interface in org.neo4j.internal.batchimport.input">Collector</a>&nbsp;badCollector,
           <a href="ImportLogic.Monitor.html" title="interface in org.neo4j.internal.batchimport">ImportLogic.Monitor</a>&nbsp;monitor,
           <a href="../../io/pagecache/tracing/PageCacheTracer.html" title="interface in org.neo4j.io.pagecache.tracing">PageCacheTracer</a>&nbsp;pageCacheTracer,
           <a href="../../memory/MemoryTracker.html" title="interface in org.neo4j.memory">MemoryTracker</a>&nbsp;memoryTracker)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#buildCountsStore()">buildCountsStore</a></span>()</code></th>
<td class="colLast">
<div class="block">Builds the counts store.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#calculateNodeDegrees()">calculateNodeDegrees</a></span>()</code></th>
<td class="colLast">
<div class="block">Populates <a href="cache/NodeRelationshipCache.html" title="class in org.neo4j.internal.batchimport.cache"><code>NodeRelationshipCache</code></a> with node degrees, which is required to know how to physically layout each
 relationship chain.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private static <a href="Configuration.html" title="interface in org.neo4j.internal.batchimport">Configuration</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#configWithRecordsPerPageBasedBatchSize(org.neo4j.internal.batchimport.Configuration,org.neo4j.kernel.impl.store.RecordStore)">configWithRecordsPerPageBasedBatchSize</a></span>&#8203;(<a href="Configuration.html" title="interface in org.neo4j.internal.batchimport">Configuration</a>&nbsp;source,
                                      <a href="../../kernel/impl/store/RecordStore.html" title="interface in org.neo4j.kernel.impl.store">RecordStore</a>&lt;?&gt;&nbsp;store)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#defragmentRelationshipGroups()">defragmentRelationshipGroups</a></span>()</code></th>
<td class="colLast">
<div class="block">Optimizes the relationship groups store by physically locating groups for each node together.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#executeStage(org.neo4j.internal.batchimport.staging.Stage)">executeStage</a></span>&#8203;(<a href="staging/Stage.html" title="class in org.neo4j.internal.batchimport.staging">Stage</a>&nbsp;stage)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getState(java.lang.Class)">getState</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;T&gt;&nbsp;type)</code></th>
<td class="colLast">
<div class="block">Accesses state of a certain <code>type</code>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#importNodes()">importNodes</a></span>()</code></th>
<td class="colLast">
<div class="block">Imports nodes w/ their properties and labels from <a href="input/Input.html#nodes(org.neo4j.internal.batchimport.input.Collector)"><code>Input.nodes(Collector)</code></a>.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#importRelationships()">importRelationships</a></span>()</code></th>
<td class="colLast">
<div class="block">Uses <a href="cache/idmapping/IdMapper.html" title="interface in org.neo4j.internal.batchimport.cache.idmapping"><code>IdMapper</code></a> as lookup for ID --> nodeId and imports all relationships from <a href="input/Input.html#relationships(org.neo4j.internal.batchimport.input.Collector)"><code>Input.relationships(Collector)</code></a>
 and writes them into the <a href="../../kernel/impl/store/RelationshipStore.html" title="class in org.neo4j.kernel.impl.store"><code>RelationshipStore</code></a>.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initialize(org.neo4j.internal.batchimport.input.Input)">initialize</a></span>&#8203;(<a href="input/Input.html" title="interface in org.neo4j.internal.batchimport.input">Input</a>&nbsp;input)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private <a href="cache/idmapping/IdMapper.html" title="interface in org.neo4j.internal.batchimport.cache.idmapping">IdMapper</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#instantiateIdMapper(org.neo4j.internal.batchimport.input.Input)">instantiateIdMapper</a></span>&#8203;(<a href="input/Input.html" title="interface in org.neo4j.internal.batchimport.input">Input</a>&nbsp;input)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static <a href="store/BatchingNeoStores.html" title="class in org.neo4j.internal.batchimport.store">BatchingNeoStores</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#instantiateNeoStores(org.neo4j.io.fs.FileSystemAbstraction,org.neo4j.io.layout.DatabaseLayout,org.neo4j.io.pagecache.PageCache,org.neo4j.io.pagecache.tracing.PageCacheTracer,org.neo4j.kernel.impl.store.format.RecordFormats,org.neo4j.internal.batchimport.Configuration,org.neo4j.logging.internal.LogService,org.neo4j.internal.batchimport.AdditionalInitialIds,org.neo4j.configuration.Config,org.neo4j.scheduler.JobScheduler,org.neo4j.memory.MemoryTracker)">instantiateNeoStores</a></span>&#8203;(<a href="../../io/fs/FileSystemAbstraction.html" title="interface in org.neo4j.io.fs">FileSystemAbstraction</a>&nbsp;fileSystem,
                    <a href="../../io/layout/DatabaseLayout.html" title="class in org.neo4j.io.layout">DatabaseLayout</a>&nbsp;databaseLayout,
                    <a href="../../io/pagecache/PageCache.html" title="interface in org.neo4j.io.pagecache">PageCache</a>&nbsp;externalPageCache,
                    <a href="../../io/pagecache/tracing/PageCacheTracer.html" title="interface in org.neo4j.io.pagecache.tracing">PageCacheTracer</a>&nbsp;cacheTracer,
                    <a href="../../kernel/impl/store/format/RecordFormats.html" title="interface in org.neo4j.kernel.impl.store.format">RecordFormats</a>&nbsp;recordFormats,
                    <a href="Configuration.html" title="interface in org.neo4j.internal.batchimport">Configuration</a>&nbsp;config,
                    <a href="../../logging/internal/LogService.html" title="interface in org.neo4j.logging.internal">LogService</a>&nbsp;logService,
                    <a href="AdditionalInitialIds.html" title="interface in org.neo4j.internal.batchimport">AdditionalInitialIds</a>&nbsp;additionalInitialIds,
                    <a href="../../configuration/Config.html" title="class in org.neo4j.configuration">Config</a>&nbsp;dbConfig,
                    <a href="../../scheduler/JobScheduler.html" title="interface in org.neo4j.scheduler">JobScheduler</a>&nbsp;scheduler,
                    <a href="../../memory/MemoryTracker.html" title="interface in org.neo4j.memory">MemoryTracker</a>&nbsp;memoryTracker)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#linkRelationships(int)">linkRelationships</a></span>&#8203;(int&nbsp;startingFromType)</code></th>
<td class="colLast">
<div class="block">Performs one round of linking together relationships with each other.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#linkRelationshipsOfAllTypes()">linkRelationshipsOfAllTypes</a></span>()</code></th>
<td class="colLast">
<div class="block">Links relationships of all types, potentially doing multiple passes, each pass calling <a href="#linkRelationships(int)"><code>linkRelationships(int)</code></a>
 with a type range.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#nextSetOfTypesThatFitInMemory(org.neo4j.internal.batchimport.DataStatistics,int,long,long)">nextSetOfTypesThatFitInMemory</a></span>&#8203;(<a href="DataStatistics.html" title="class in org.neo4j.internal.batchimport">DataStatistics</a>&nbsp;typeDistribution,
                             int&nbsp;startingFromType,
                             long&nbsp;freeMemoryForDenseNodeCache,
                             long&nbsp;numberOfDenseNodes)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#oneBased(int)">oneBased</a></span>&#8203;(int&nbsp;value)</code></th>
<td class="colLast">
<div class="block">Convenience method (for code reading) to have a zero-based value become one based (for printing/logging).</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#prepareIdMapper()">prepareIdMapper</a></span>()</code></th>
<td class="colLast">
<div class="block">Prepares <a href="cache/idmapping/IdMapper.html" title="interface in org.neo4j.internal.batchimport.cache.idmapping"><code>IdMapper</code></a> to be queried for ID --> nodeId lookups.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#putState(T)">putState</a></span>&#8203;(T&nbsp;state)</code></th>
<td class="colLast">
<div class="block">Puts state of a certain type.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#success()">success</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>private static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#totalMemoryUsageOf(org.neo4j.internal.batchimport.cache.MemoryStatsVisitor.Visitable...)">totalMemoryUsageOf</a></span>&#8203;(<a href="cache/MemoryStatsVisitor.Visitable.html" title="interface in org.neo4j.internal.batchimport.cache">MemoryStatsVisitor.Visitable</a>...&nbsp;users)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updatePeakMemoryUsage()">updatePeakMemoryUsage</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="IMPORT_COUNT_STORE_REBUILD_TAG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>IMPORT_COUNT_STORE_REBUILD_TAG</h4>
<pre>private static final&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a> IMPORT_COUNT_STORE_REBUILD_TAG</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.neo4j.internal.batchimport.ImportLogic.IMPORT_COUNT_STORE_REBUILD_TAG">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="NO_MONITOR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NO_MONITOR</h4>
<pre>public static final&nbsp;<a href="ImportLogic.Monitor.html" title="interface in org.neo4j.internal.batchimport">ImportLogic.Monitor</a> NO_MONITOR</pre>
</li>
</ul>
<a id="databaseDirectory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>databaseDirectory</h4>
<pre>private final&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Path.html?is-external=true" title="class or interface in java.nio.file" class="externalLink">Path</a> databaseDirectory</pre>
</li>
</ul>
<a id="neoStore">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>neoStore</h4>
<pre>private final&nbsp;<a href="store/BatchingNeoStores.html" title="class in org.neo4j.internal.batchimport.store">BatchingNeoStores</a> neoStore</pre>
</li>
</ul>
<a id="config">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>config</h4>
<pre>private final&nbsp;<a href="Configuration.html" title="interface in org.neo4j.internal.batchimport">Configuration</a> config</pre>
</li>
</ul>
<a id="dbConfig">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dbConfig</h4>
<pre>private final&nbsp;<a href="../../configuration/Config.html" title="class in org.neo4j.configuration">Config</a> dbConfig</pre>
</li>
</ul>
<a id="log">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log</h4>
<pre>private final&nbsp;<a href="../../logging/Log.html" title="interface in org.neo4j.logging">Log</a> log</pre>
</li>
</ul>
<a id="pageCacheTracer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pageCacheTracer</h4>
<pre>private final&nbsp;<a href="../../io/pagecache/tracing/PageCacheTracer.html" title="interface in org.neo4j.io.pagecache.tracing">PageCacheTracer</a> pageCacheTracer</pre>
</li>
</ul>
<a id="memoryTracker">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>memoryTracker</h4>
<pre>private final&nbsp;<a href="../../memory/MemoryTracker.html" title="interface in org.neo4j.memory">MemoryTracker</a> memoryTracker</pre>
</li>
</ul>
<a id="executionMonitor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executionMonitor</h4>
<pre>private final&nbsp;<a href="staging/ExecutionMonitor.html" title="interface in org.neo4j.internal.batchimport.staging">ExecutionMonitor</a> executionMonitor</pre>
</li>
</ul>
<a id="recordFormats">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordFormats</h4>
<pre>private final&nbsp;<a href="../../kernel/impl/store/format/RecordFormats.html" title="interface in org.neo4j.kernel.impl.store.format">RecordFormats</a> recordFormats</pre>
</li>
</ul>
<a id="storeUpdateMonitor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeUpdateMonitor</h4>
<pre>private final&nbsp;<a href="DataImporter.Monitor.html" title="class in org.neo4j.internal.batchimport">DataImporter.Monitor</a> storeUpdateMonitor</pre>
</li>
</ul>
<a id="maxMemory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxMemory</h4>
<pre>private final&nbsp;long maxMemory</pre>
</li>
</ul>
<a id="dependencies">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dependencies</h4>
<pre>private final&nbsp;<a href="../../collection/Dependencies.html" title="class in org.neo4j.collection">Dependencies</a> dependencies</pre>
</li>
</ul>
<a id="monitor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>monitor</h4>
<pre>private final&nbsp;<a href="ImportLogic.Monitor.html" title="interface in org.neo4j.internal.batchimport">ImportLogic.Monitor</a> monitor</pre>
</li>
</ul>
<a id="input">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>input</h4>
<pre>private&nbsp;<a href="input/Input.html" title="interface in org.neo4j.internal.batchimport.input">Input</a> input</pre>
</li>
</ul>
<a id="successful">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>successful</h4>
<pre>private&nbsp;boolean successful</pre>
</li>
</ul>
<a id="accessibleState">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>accessibleState</h4>
<pre>private final&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;?&gt;,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&gt; accessibleState</pre>
</li>
</ul>
<a id="nodeRelationshipCache">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nodeRelationshipCache</h4>
<pre>private&nbsp;<a href="cache/NodeRelationshipCache.html" title="class in org.neo4j.internal.batchimport.cache">NodeRelationshipCache</a> nodeRelationshipCache</pre>
</li>
</ul>
<a id="nodeLabelsCache">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nodeLabelsCache</h4>
<pre>private&nbsp;<a href="cache/NodeLabelsCache.html" title="class in org.neo4j.internal.batchimport.cache">NodeLabelsCache</a> nodeLabelsCache</pre>
</li>
</ul>
<a id="startTime">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startTime</h4>
<pre>private&nbsp;long startTime</pre>
</li>
</ul>
<a id="numberArrayFactory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numberArrayFactory</h4>
<pre>private&nbsp;<a href="cache/NumberArrayFactory.html" title="interface in org.neo4j.internal.batchimport.cache">NumberArrayFactory</a> numberArrayFactory</pre>
</li>
</ul>
<a id="badCollector">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>badCollector</h4>
<pre>private final&nbsp;<a href="input/Collector.html" title="interface in org.neo4j.internal.batchimport.input">Collector</a> badCollector</pre>
</li>
</ul>
<a id="idMapper">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>idMapper</h4>
<pre>private&nbsp;<a href="cache/idmapping/IdMapper.html" title="interface in org.neo4j.internal.batchimport.cache.idmapping">IdMapper</a> idMapper</pre>
</li>
</ul>
<a id="peakMemoryUsage">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peakMemoryUsage</h4>
<pre>private&nbsp;long peakMemoryUsage</pre>
</li>
</ul>
<a id="availableMemoryForLinking">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>availableMemoryForLinking</h4>
<pre>private&nbsp;long availableMemoryForLinking</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.neo4j.io.layout.DatabaseLayout,org.neo4j.internal.batchimport.store.BatchingNeoStores,org.neo4j.internal.batchimport.Configuration,org.neo4j.configuration.Config,org.neo4j.logging.internal.LogService,org.neo4j.internal.batchimport.staging.ExecutionMonitor,org.neo4j.kernel.impl.store.format.RecordFormats,org.neo4j.internal.batchimport.input.Collector,org.neo4j.internal.batchimport.ImportLogic.Monitor,org.neo4j.io.pagecache.tracing.PageCacheTracer,org.neo4j.memory.MemoryTracker)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ImportLogic</h4>
<pre>public&nbsp;ImportLogic&#8203;(<a href="../../io/layout/DatabaseLayout.html" title="class in org.neo4j.io.layout">DatabaseLayout</a>&nbsp;databaseLayout,
                   <a href="store/BatchingNeoStores.html" title="class in org.neo4j.internal.batchimport.store">BatchingNeoStores</a>&nbsp;neoStore,
                   <a href="Configuration.html" title="interface in org.neo4j.internal.batchimport">Configuration</a>&nbsp;config,
                   <a href="../../configuration/Config.html" title="class in org.neo4j.configuration">Config</a>&nbsp;dbConfig,
                   <a href="../../logging/internal/LogService.html" title="interface in org.neo4j.logging.internal">LogService</a>&nbsp;logService,
                   <a href="staging/ExecutionMonitor.html" title="interface in org.neo4j.internal.batchimport.staging">ExecutionMonitor</a>&nbsp;executionMonitor,
                   <a href="../../kernel/impl/store/format/RecordFormats.html" title="interface in org.neo4j.kernel.impl.store.format">RecordFormats</a>&nbsp;recordFormats,
                   <a href="input/Collector.html" title="interface in org.neo4j.internal.batchimport.input">Collector</a>&nbsp;badCollector,
                   <a href="ImportLogic.Monitor.html" title="interface in org.neo4j.internal.batchimport">ImportLogic.Monitor</a>&nbsp;monitor,
                   <a href="../../io/pagecache/tracing/PageCacheTracer.html" title="interface in org.neo4j.io.pagecache.tracing">PageCacheTracer</a>&nbsp;pageCacheTracer,
                   <a href="../../memory/MemoryTracker.html" title="interface in org.neo4j.memory">MemoryTracker</a>&nbsp;memoryTracker)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>databaseLayout</code> - directory which the db will be created in.</dd>
<dd><code>neoStore</code> - <a href="store/BatchingNeoStores.html" title="class in org.neo4j.internal.batchimport.store"><code>BatchingNeoStores</code></a> to import into.</dd>
<dd><code>config</code> - import-specific <a href="Configuration.html" title="interface in org.neo4j.internal.batchimport"><code>Configuration</code></a>.</dd>
<dd><code>logService</code> - <a href="../../logging/internal/LogService.html" title="interface in org.neo4j.logging.internal"><code>LogService</code></a> to use.</dd>
<dd><code>executionMonitor</code> - <a href="staging/ExecutionMonitor.html" title="interface in org.neo4j.internal.batchimport.staging"><code>ExecutionMonitor</code></a> to follow progress as the import proceeds.</dd>
<dd><code>recordFormats</code> - which <a href="../../kernel/impl/store/format/RecordFormats.html" title="interface in org.neo4j.kernel.impl.store.format"><code>record format</code></a> to use for the created db.</dd>
<dd><code>badCollector</code> - <a href="input/Collector.html" title="interface in org.neo4j.internal.batchimport.input"><code>Collector</code></a> for bad entries.</dd>
<dd><code>monitor</code> - <a href="ImportLogic.Monitor.html" title="interface in org.neo4j.internal.batchimport"><code>ImportLogic.Monitor</code></a> for some events.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="initialize(org.neo4j.internal.batchimport.input.Input)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;initialize&#8203;(<a href="input/Input.html" title="interface in org.neo4j.internal.batchimport.input">Input</a>&nbsp;input)
                throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="instantiateIdMapper(org.neo4j.internal.batchimport.input.Input)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>instantiateIdMapper</h4>
<pre class="methodSignature">private&nbsp;<a href="cache/idmapping/IdMapper.html" title="interface in org.neo4j.internal.batchimport.cache.idmapping">IdMapper</a>&nbsp;instantiateIdMapper&#8203;(<a href="input/Input.html" title="interface in org.neo4j.internal.batchimport.input">Input</a>&nbsp;input)</pre>
</li>
</ul>
<a id="getState(java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getState</h4>
<pre class="methodSignature">public&nbsp;&lt;T&gt;&nbsp;T&nbsp;getState&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;T&gt;&nbsp;type)</pre>
<div class="block">Accesses state of a certain <code>type</code>. This is state that may be long- or short-lived and perhaps
 created in one part of the import to be used in another.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Class</code></a> of the state to get.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the state of the given type.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if the state of the given <code>type</code> isn't available.</dd>
</dl>
</li>
</ul>
<a id="putState(java.lang.Object)">
<!--   -->
</a><a id="putState(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putState</h4>
<pre class="methodSignature">public&nbsp;&lt;T&gt;&nbsp;void&nbsp;putState&#8203;(T&nbsp;state)</pre>
<div class="block">Puts state of a certain type.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>state</code> - state instance to set.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if state of this type has already been defined.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#getState(java.lang.Class)"><code>getState(Class)</code></a></dd>
</dl>
</li>
</ul>
<a id="importNodes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>importNodes</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;importNodes()
                 throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Imports nodes w/ their properties and labels from <a href="input/Input.html#nodes(org.neo4j.internal.batchimport.input.Collector)"><code>Input.nodes(Collector)</code></a>. This will as a side-effect populate the <a href="cache/idmapping/IdMapper.html" title="interface in org.neo4j.internal.batchimport.cache.idmapping"><code>IdMapper</code></a>,
 to later be used for looking up ID --> nodeId in <a href="#importRelationships()"><code>importRelationships()</code></a>. After a completed node import,
 <a href="#prepareIdMapper()"><code>prepareIdMapper()</code></a> must be called.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - on I/O error.</dd>
</dl>
</li>
</ul>
<a id="prepareIdMapper()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareIdMapper</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;prepareIdMapper()</pre>
<div class="block">Prepares <a href="cache/idmapping/IdMapper.html" title="interface in org.neo4j.internal.batchimport.cache.idmapping"><code>IdMapper</code></a> to be queried for ID --> nodeId lookups. This is required for running <a href="#importRelationships()"><code>importRelationships()</code></a>.</div>
</li>
</ul>
<a id="importRelationships()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>importRelationships</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;importRelationships()
                         throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Uses <a href="cache/idmapping/IdMapper.html" title="interface in org.neo4j.internal.batchimport.cache.idmapping"><code>IdMapper</code></a> as lookup for ID --> nodeId and imports all relationships from <a href="input/Input.html#relationships(org.neo4j.internal.batchimport.input.Collector)"><code>Input.relationships(Collector)</code></a>
 and writes them into the <a href="../../kernel/impl/store/RelationshipStore.html" title="class in org.neo4j.kernel.impl.store"><code>RelationshipStore</code></a>. No linking between relationships is done in this method,
 it's done later in <a href="#linkRelationships(int)"><code>linkRelationships(int)</code></a>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - on I/O error.</dd>
</dl>
</li>
</ul>
<a id="calculateNodeDegrees()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateNodeDegrees</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;calculateNodeDegrees()</pre>
<div class="block">Populates <a href="cache/NodeRelationshipCache.html" title="class in org.neo4j.internal.batchimport.cache"><code>NodeRelationshipCache</code></a> with node degrees, which is required to know how to physically layout each
 relationship chain. This is required before running <a href="#linkRelationships(int)"><code>linkRelationships(int)</code></a>.</div>
</li>
</ul>
<a id="linkRelationships(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>linkRelationships</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;linkRelationships&#8203;(int&nbsp;startingFromType)</pre>
<div class="block">Performs one round of linking together relationships with each other. Number of rounds required
 is dictated by available memory. The more dense nodes and relationship types, the more memory required.
 Every round all relationships of one or more types are linked.

 Links together:
 <ul>
 <li>
 Relationship <--> Relationship. Two sequential passes are made over the relationship store.
 The forward pass links next pointers, each next pointer pointing "backwards" to lower id.
 The backward pass links prev pointers, each prev pointer pointing "forwards" to higher id.
 </li>
 Sparse Node --> Relationship. Sparse nodes are updated with relationship heads of completed chains.
 This is done in the first round only, if there are multiple rounds.
 </li>
 </ul>

 A linking loop (from external caller POV) typically looks like:
 <pre>
 int type = 0;
 do
 {
    type = logic.linkRelationships( type );
 }
 while ( type != -1 );
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>startingFromType</code> - relationship type to start from.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the next relationship type to start linking and, if != -1, should be passed into next call to this method.</dd>
</dl>
</li>
</ul>
<a id="linkRelationshipsOfAllTypes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>linkRelationshipsOfAllTypes</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;linkRelationshipsOfAllTypes()</pre>
<div class="block">Links relationships of all types, potentially doing multiple passes, each pass calling <a href="#linkRelationships(int)"><code>linkRelationships(int)</code></a>
 with a type range.</div>
</li>
</ul>
<a id="oneBased(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>oneBased</h4>
<pre class="methodSignature">private static&nbsp;int&nbsp;oneBased&#8203;(int&nbsp;value)</pre>
<div class="block">Convenience method (for code reading) to have a zero-based value become one based (for printing/logging).</div>
</li>
</ul>
<a id="nextSetOfTypesThatFitInMemory(org.neo4j.internal.batchimport.DataStatistics,int,long,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextSetOfTypesThatFitInMemory</h4>
<pre class="methodSignature">static&nbsp;int&nbsp;nextSetOfTypesThatFitInMemory&#8203;(<a href="DataStatistics.html" title="class in org.neo4j.internal.batchimport">DataStatistics</a>&nbsp;typeDistribution,
                                         int&nbsp;startingFromType,
                                         long&nbsp;freeMemoryForDenseNodeCache,
                                         long&nbsp;numberOfDenseNodes)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>index (into <a href="DataStatistics.html" title="class in org.neo4j.internal.batchimport"><code>DataStatistics</code></a>) of last relationship type that fit in memory this round.</dd>
</dl>
</li>
</ul>
<a id="defragmentRelationshipGroups()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defragmentRelationshipGroups</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;defragmentRelationshipGroups()</pre>
<div class="block">Optimizes the relationship groups store by physically locating groups for each node together.</div>
</li>
</ul>
<a id="buildCountsStore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildCountsStore</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;buildCountsStore()</pre>
<div class="block">Builds the counts store. Requires that <a href="#importNodes()"><code>importNodes()</code></a> and <a href="#importRelationships()"><code>importRelationships()</code></a> has run.</div>
</li>
</ul>
<a id="success()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>success</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;success()</pre>
</li>
</ul>
<a id="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;close()
           throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/AutoCloseable.html?is-external=true#close()" title="class or interface in java.lang" class="externalLink">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang" class="externalLink">AutoCloseable</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Closeable.html?is-external=true#close()" title="class or interface in java.io" class="externalLink">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Closeable.html?is-external=true" title="class or interface in java.io" class="externalLink">Closeable</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="updatePeakMemoryUsage()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updatePeakMemoryUsage</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;updatePeakMemoryUsage()</pre>
</li>
</ul>
<a id="instantiateNeoStores(org.neo4j.io.fs.FileSystemAbstraction,org.neo4j.io.layout.DatabaseLayout,org.neo4j.io.pagecache.PageCache,org.neo4j.io.pagecache.tracing.PageCacheTracer,org.neo4j.kernel.impl.store.format.RecordFormats,org.neo4j.internal.batchimport.Configuration,org.neo4j.logging.internal.LogService,org.neo4j.internal.batchimport.AdditionalInitialIds,org.neo4j.configuration.Config,org.neo4j.scheduler.JobScheduler,org.neo4j.memory.MemoryTracker)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>instantiateNeoStores</h4>
<pre class="methodSignature">public static&nbsp;<a href="store/BatchingNeoStores.html" title="class in org.neo4j.internal.batchimport.store">BatchingNeoStores</a>&nbsp;instantiateNeoStores&#8203;(<a href="../../io/fs/FileSystemAbstraction.html" title="interface in org.neo4j.io.fs">FileSystemAbstraction</a>&nbsp;fileSystem,
                                                     <a href="../../io/layout/DatabaseLayout.html" title="class in org.neo4j.io.layout">DatabaseLayout</a>&nbsp;databaseLayout,
                                                     <a href="../../io/pagecache/PageCache.html" title="interface in org.neo4j.io.pagecache">PageCache</a>&nbsp;externalPageCache,
                                                     <a href="../../io/pagecache/tracing/PageCacheTracer.html" title="interface in org.neo4j.io.pagecache.tracing">PageCacheTracer</a>&nbsp;cacheTracer,
                                                     <a href="../../kernel/impl/store/format/RecordFormats.html" title="interface in org.neo4j.kernel.impl.store.format">RecordFormats</a>&nbsp;recordFormats,
                                                     <a href="Configuration.html" title="interface in org.neo4j.internal.batchimport">Configuration</a>&nbsp;config,
                                                     <a href="../../logging/internal/LogService.html" title="interface in org.neo4j.logging.internal">LogService</a>&nbsp;logService,
                                                     <a href="AdditionalInitialIds.html" title="interface in org.neo4j.internal.batchimport">AdditionalInitialIds</a>&nbsp;additionalInitialIds,
                                                     <a href="../../configuration/Config.html" title="class in org.neo4j.configuration">Config</a>&nbsp;dbConfig,
                                                     <a href="../../scheduler/JobScheduler.html" title="interface in org.neo4j.scheduler">JobScheduler</a>&nbsp;scheduler,
                                                     <a href="../../memory/MemoryTracker.html" title="interface in org.neo4j.memory">MemoryTracker</a>&nbsp;memoryTracker)</pre>
</li>
</ul>
<a id="totalMemoryUsageOf(org.neo4j.internal.batchimport.cache.MemoryStatsVisitor.Visitable...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>totalMemoryUsageOf</h4>
<pre class="methodSignature">private static&nbsp;long&nbsp;totalMemoryUsageOf&#8203;(<a href="cache/MemoryStatsVisitor.Visitable.html" title="interface in org.neo4j.internal.batchimport.cache">MemoryStatsVisitor.Visitable</a>...&nbsp;users)</pre>
</li>
</ul>
<a id="configWithRecordsPerPageBasedBatchSize(org.neo4j.internal.batchimport.Configuration,org.neo4j.kernel.impl.store.RecordStore)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>configWithRecordsPerPageBasedBatchSize</h4>
<pre class="methodSignature">private static&nbsp;<a href="Configuration.html" title="interface in org.neo4j.internal.batchimport">Configuration</a>&nbsp;configWithRecordsPerPageBasedBatchSize&#8203;(<a href="Configuration.html" title="interface in org.neo4j.internal.batchimport">Configuration</a>&nbsp;source,
                                                                    <a href="../../kernel/impl/store/RecordStore.html" title="interface in org.neo4j.kernel.impl.store">RecordStore</a>&lt;?&gt;&nbsp;store)</pre>
</li>
</ul>
<a id="executeStage(org.neo4j.internal.batchimport.staging.Stage)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>executeStage</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;executeStage&#8203;(<a href="staging/Stage.html" title="class in org.neo4j.internal.batchimport.staging">Stage</a>&nbsp;stage)</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ImportLogic.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2002&#x2013;2020 <a href="https://neo4j.com/">The Neo4j Graph Database Project</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
