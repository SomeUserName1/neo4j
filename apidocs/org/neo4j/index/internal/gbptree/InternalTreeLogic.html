<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (11.0.8) on Wed Dec 02 12:58:02 CET 2020 -->
<title>InternalTreeLogic (Neo4j 4.2.2-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-12-02">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="InternalTreeLogic (Neo4j 4.2.2-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/InternalTreeLogic.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.neo4j.index.internal.gbptree</a></div>
<h2 title="Class InternalTreeLogic" class="title">Class InternalTreeLogic&lt;KEY,&#8203;VALUE&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.neo4j.index.internal.gbptree.InternalTreeLogic&lt;KEY,&#8203;VALUE&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>KEY</code> - type of internal/leaf keys</dd>
<dd><code>VALUE</code> - type of leaf values</dd>
</dl>
<hr>
<pre>class <span class="typeNameLabel">InternalTreeLogic&lt;KEY,&#8203;VALUE&gt;</span>
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">Implementation of GB+ tree insert/remove algorithms.
 <p>
 Changes involved in splitting a leaf (L = leaf page to split, R` = L's current right sibling):
 <ol>
 <li>Acquire new page id R</li>
 <li>Copy "right-hand" keys/values to R and set key count</li>
 <li>Set L's right sibling to R</li>
 <li>Set key count of L to new "left-hand" key count</li>
 <li>Write new key/values in L</li>
 </ol>
 <p>
 Reader concurrent with writer may have to compensate its reading to cope with following scenario
 (key/value abstracted into E for simplicity, right bracket ends by keyCount):
 SCENARIO1 (new key ends up in right leaf)
 <pre>
 - L[E1,E2,E4,E5]
           ^
   Reader have read E1-E2 and is about to read E4

 - Split happens where E3 is inserted and the leaf needs to be split, which modifies the tree into:
   L[E1,E2] -> R[E3,E4,E5]

   During this split, reader could see this state:
   L[E1,E2,E4,E5] -> R[E3,E4,E5]
           ^  ^           x  x
   Reader will need to ignore lower keys already seen, assuming unique keys
 </pre>
 SCENARIO2 (new key ends up in left leaf)
 <pre>
 - L[E1,E2,E4,E5,E6]
           ^
   Reader have read E1-E2 and is about to read E4

 - Split happens where E3 is inserted and the leaf needs to be split, which modifies the tree into:
   L[E1,E2,E3] -> R[E4,E5,E6]

   There's no bad intermediate state
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="InternalTreeLogic.Level.html" title="class in org.neo4j.index.internal.gbptree">InternalTreeLogic.Level</a>&lt;<a href="InternalTreeLogic.Level.html" title="type parameter in InternalTreeLogic.Level">KEY</a>&gt;</span></code></th>
<td class="colLast">
<div class="block">Keeps information about one level in a path down the tree where the <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache"><code>PageCursor</code></a> is currently at.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="TreeNode.html" title="class in org.neo4j.index.internal.gbptree">TreeNode</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>,&#8203;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bTreeNode">bTreeNode</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#currentLevel">currentLevel</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_SPLIT_RATIO">DEFAULT_SPLIT_RATIO</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="IdProvider.html" title="interface in org.neo4j.index.internal.gbptree">IdProvider</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#idProvider">idProvider</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="Layout.html" title="interface in org.neo4j.index.internal.gbptree">Layout</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>,&#8203;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#layout">layout</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="InternalTreeLogic.Level.html" title="class in org.neo4j.index.internal.gbptree">InternalTreeLogic.Level</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#levels">levels</a></span></code></th>
<td class="colLast">
<div class="block">Current path down the tree
 - level:-1 is uninitialized (so that a call to <a href="#initialize(org.neo4j.io.pagecache.PageCursor)"><code>initialize(PageCursor)</code></a> is required)
 - level: 0 is at root
 - level: 1 is at first level below root
 ... a.s.o</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="GBPTree.Monitor.html" title="interface in org.neo4j.index.internal.gbptree">GBPTree.Monitor</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#monitor">monitor</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#newKeyPlaceHolder">newKeyPlaceHolder</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ratioToKeepInLeftOnSplit">ratioToKeepInLeftOnSplit</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readKey">readKey</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readValue">readValue</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.neo4j.index.internal.gbptree.IdProvider,org.neo4j.index.internal.gbptree.TreeNode,org.neo4j.index.internal.gbptree.Layout,org.neo4j.index.internal.gbptree.GBPTree.Monitor)">InternalTreeLogic</a></span>&#8203;(<a href="IdProvider.html" title="interface in org.neo4j.index.internal.gbptree">IdProvider</a>&nbsp;idProvider,
                 <a href="TreeNode.html" title="class in org.neo4j.index.internal.gbptree">TreeNode</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>,&#8203;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&gt;&nbsp;bTreeNode,
                 <a href="Layout.html" title="interface in org.neo4j.index.internal.gbptree">Layout</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>,&#8203;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&gt;&nbsp;layout,
                 <a href="GBPTree.Monitor.html" title="interface in org.neo4j.index.internal.gbptree">GBPTree.Monitor</a>&nbsp;monitor)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bubbleRightmostKeyRecursive(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,long,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">bubbleRightmostKeyRecursive</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                           <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                           long&nbsp;previousNode,
                           long&nbsp;stableGeneration,
                           long&nbsp;unstableGeneration,
                           <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#connectLeftAndRightSibling(org.neo4j.io.pagecache.PageCursor,long,long)">connectLeftAndRightSibling</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                          long&nbsp;stableGeneration,
                          long&nbsp;unstableGeneration)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createSuccessorIfNeeded(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,org.neo4j.index.internal.gbptree.StructurePropagation.StructureUpdate,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">createSuccessorIfNeeded</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                       <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                       <a href="StructurePropagation.StructureUpdate.html" title="interface in org.neo4j.index.internal.gbptree">StructurePropagation.StructureUpdate</a>&nbsp;structureUpdate,
                       long&nbsp;stableGeneration,
                       long&nbsp;unstableGeneration,
                       <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">
<div class="block">Create a new node and copy content from current node (where <code>cursor</code> sits) if current node is not already
 of <code>unstableGeneration</code>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cursorIsAtExpectedLocation(org.neo4j.io.pagecache.PageCursor)">cursorIsAtExpectedLocation</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor)</code></th>
<td class="colLast">
<div class="block">Asserts that cursor is where it's expected to be at, compared to current level.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doInsertInInternal(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,int,KEY,long,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">doInsertInInternal</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                  <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                  int&nbsp;keyCount,
                  <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;primKey,
                  long&nbsp;rightChild,
                  long&nbsp;stableGeneration,
                  long&nbsp;unstableGeneration,
                  <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doInsertInLeaf(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,VALUE,int,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">doInsertInLeaf</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
              <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
              <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;key,
              <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&nbsp;value,
              int&nbsp;pos,
              int&nbsp;keyCount,
              long&nbsp;stableGeneration,
              long&nbsp;unstableGeneration,
              <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ensureStackCapacity(int)">ensureStackCapacity</a></span>&#8203;(int&nbsp;depth)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleStructureChanges(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">handleStructureChanges</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                      <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                      long&nbsp;stableGeneration,
                      long&nbsp;unstableGeneration,
                      <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initialize(org.neo4j.io.pagecache.PageCursor)">initialize</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursorAtRoot)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initialize(org.neo4j.io.pagecache.PageCursor,double)">initialize</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursorAtRoot,
          double&nbsp;ratioToKeepInLeftOnSplit)</code></th>
<td class="colLast">
<div class="block">Prepare for starting over with new updates.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#insert(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,VALUE,org.neo4j.index.internal.gbptree.ValueMerger,boolean,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">insert</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
      <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
      <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;key,
      <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&nbsp;value,
      <a href="ValueMerger.html" title="interface in org.neo4j.index.internal.gbptree">ValueMerger</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>,&#8203;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&gt;&nbsp;valueMerger,
      boolean&nbsp;createIfNotExists,
      long&nbsp;stableGeneration,
      long&nbsp;unstableGeneration,
      <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">
<div class="block">Insert <code>key</code> and associate it with <code>value</code> if <code>key</code> does not already exist in
 tree.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#insertInInternal(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,int,KEY,long,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">insertInInternal</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                int&nbsp;keyCount,
                <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;primKey,
                long&nbsp;rightChild,
                long&nbsp;stableGeneration,
                long&nbsp;unstableGeneration,
                <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">
<div class="block">Leaves cursor at same page as when called.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#insertInLeaf(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,VALUE,org.neo4j.index.internal.gbptree.ValueMerger,boolean,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">insertInLeaf</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
            <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
            <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;key,
            <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&nbsp;value,
            <a href="ValueMerger.html" title="interface in org.neo4j.index.internal.gbptree">ValueMerger</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>,&#8203;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&gt;&nbsp;valueMerger,
            boolean&nbsp;createIfNotExists,
            long&nbsp;stableGeneration,
            long&nbsp;unstableGeneration,
            <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">
<div class="block">Leaves cursor at same page as when called.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#merge(org.neo4j.io.pagecache.PageCursor,int,org.neo4j.io.pagecache.PageCursor,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">merge</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;leftSiblingCursor,
     int&nbsp;leftSiblingKeyCount,
     <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;rightSiblingCursor,
     int&nbsp;rightSiblingKeyCount,
     long&nbsp;stableGeneration,
     long&nbsp;unstableGeneration,
     <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mergeFromLeftSiblingLeaf(org.neo4j.io.pagecache.PageCursor,org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,int,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">mergeFromLeftSiblingLeaf</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                        <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;leftSiblingCursor,
                        <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                        int&nbsp;keyCount,
                        int&nbsp;leftSiblingKeyCount,
                        long&nbsp;stableGeneration,
                        long&nbsp;unstableGeneration,
                        <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mergeToRightSiblingLeaf(org.neo4j.io.pagecache.PageCursor,org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,int,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">mergeToRightSiblingLeaf</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                       <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;rightSiblingCursor,
                       <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                       int&nbsp;keyCount,
                       int&nbsp;rightSiblingKeyCount,
                       long&nbsp;stableGeneration,
                       long&nbsp;unstableGeneration,
                       <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mergeValue(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,VALUE,org.neo4j.index.internal.gbptree.ValueMerger,int,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">mergeValue</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
          <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
          <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;key,
          <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&nbsp;value,
          <a href="ValueMerger.html" title="interface in org.neo4j.index.internal.gbptree">ValueMerger</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>,&#8203;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&gt;&nbsp;valueMerger,
          int&nbsp;pos,
          int&nbsp;keyCount,
          long&nbsp;stableGeneration,
          long&nbsp;unstableGeneration,
          <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#moveToCorrectLeaf(org.neo4j.io.pagecache.PageCursor,KEY,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">moveToCorrectLeaf</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                 <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;key,
                 long&nbsp;stableGeneration,
                 long&nbsp;unstableGeneration,
                 <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">
<div class="block">Moves the cursor to the correct leaf for <code>key</code>, taking the current path into consideration
 and moving the cursor as few hops as possible to get from the current position to the target position,
 e.g given tree:</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#overwriteKeyInternal(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">overwriteKeyInternal</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                    <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                    <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;newKey,
                    int&nbsp;pos,
                    long&nbsp;stableGeneration,
                    long&nbsp;unstableGeneration,
                    <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#popLevel(org.neo4j.io.pagecache.PageCursor)">popLevel</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rebalanceLeaf(org.neo4j.io.pagecache.PageCursor,int,org.neo4j.io.pagecache.PageCursor,int,int,org.neo4j.index.internal.gbptree.StructurePropagation,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">rebalanceLeaf</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;leftCursor,
             int&nbsp;leftKeyCount,
             <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;rightCursor,
             int&nbsp;rightKeyCount,
             int&nbsp;numberOfKeysToMove,
             <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
             <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>(package private) <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#remove(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,VALUE,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">remove</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
      <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
      <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;key,
      <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&nbsp;into,
      long&nbsp;stableGeneration,
      long&nbsp;unstableGeneration,
      <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">
<div class="block">Remove given <code>key</code> and associated value from tree if it exists.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeFromLeaf(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,VALUE,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">removeFromLeaf</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
              <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
              <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;key,
              <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&nbsp;into,
              long&nbsp;stableGeneration,
              long&nbsp;unstableGeneration,
              <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">
<div class="block">Remove given <code>key</code> and associated value from tree if it exists.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#replaceKeyByBubbleRightmostFromSubtree(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">replaceKeyByBubbleRightmostFromSubtree</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                                      <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                                      int&nbsp;subtreePosition,
                                      long&nbsp;stableGeneration,
                                      long&nbsp;unstableGeneration,
                                      <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>private int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#search(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.TreeNode.Type,KEY,KEY,int,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">search</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
      <a href="TreeNode.Type.html" title="enum in org.neo4j.index.internal.gbptree">TreeNode.Type</a>&nbsp;type,
      <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;key,
      <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;readKey,
      int&nbsp;keyCount,
      <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#simplyRemoveFromInternal(org.neo4j.io.pagecache.PageCursor,int,int,boolean,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">simplyRemoveFromInternal</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                        int&nbsp;keyCount,
                        int&nbsp;keyPos,
                        boolean&nbsp;leftChild,
                        long&nbsp;stableGeneration,
                        long&nbsp;unstableGeneration,
                        <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>private int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#simplyRemoveFromLeaf(org.neo4j.io.pagecache.PageCursor,VALUE,int,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">simplyRemoveFromLeaf</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                    <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&nbsp;into,
                    int&nbsp;keyCount,
                    int&nbsp;pos,
                    long&nbsp;stableGeneration,
                    long&nbsp;unstableGeneration,
                    <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">
<div class="block">Remove key and value on given position and decrement key count.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#splitInternal(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,long,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">splitInternal</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
             <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
             <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;newKey,
             long&nbsp;newRightChild,
             int&nbsp;keyCount,
             long&nbsp;stableGeneration,
             long&nbsp;unstableGeneration,
             <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">
<div class="block">Leaves cursor at same page as when called.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#splitLeaf(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,VALUE,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">splitLeaf</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
         <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
         <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;newKey,
         <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&nbsp;newValue,
         int&nbsp;keyCount,
         long&nbsp;stableGeneration,
         long&nbsp;unstableGeneration,
         <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">
<div class="block">Leaves cursor at same page as when called.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryShrinkTree(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">tryShrinkTree</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
             <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
             long&nbsp;stableGeneration,
             long&nbsp;unstableGeneration,
             <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#underflowInLeaf(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">underflowInLeaf</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
               <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
               int&nbsp;keyCount,
               long&nbsp;stableGeneration,
               long&nbsp;unstableGeneration,
               <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateLeftmostChildInRightSibling(org.neo4j.io.pagecache.PageCursor,long,long,long)">updateLeftmostChildInRightSibling</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                                 long&nbsp;childPointer,
                                 long&nbsp;stableGeneration,
                                 long&nbsp;unstableGeneration)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateMidChild(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,int,long,long)">updateMidChild</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
              <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
              int&nbsp;childPos,
              long&nbsp;stableGeneration,
              long&nbsp;unstableGeneration)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateRightmostChildInLeftSibling(org.neo4j.io.pagecache.PageCursor,long,long,long)">updateRightmostChildInLeftSibling</a></span>&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                                 long&nbsp;childPointer,
                                 long&nbsp;stableGeneration,
                                 long&nbsp;unstableGeneration)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="DEFAULT_SPLIT_RATIO">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_SPLIT_RATIO</h4>
<pre>static final&nbsp;double DEFAULT_SPLIT_RATIO</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.neo4j.index.internal.gbptree.InternalTreeLogic.DEFAULT_SPLIT_RATIO">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="idProvider">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>idProvider</h4>
<pre>private final&nbsp;<a href="IdProvider.html" title="interface in org.neo4j.index.internal.gbptree">IdProvider</a> idProvider</pre>
</li>
</ul>
<a id="bTreeNode">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bTreeNode</h4>
<pre>private final&nbsp;<a href="TreeNode.html" title="class in org.neo4j.index.internal.gbptree">TreeNode</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>,&#8203;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&gt; bTreeNode</pre>
</li>
</ul>
<a id="layout">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>layout</h4>
<pre>private final&nbsp;<a href="Layout.html" title="interface in org.neo4j.index.internal.gbptree">Layout</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>,&#8203;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&gt; layout</pre>
</li>
</ul>
<a id="newKeyPlaceHolder">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newKeyPlaceHolder</h4>
<pre>private final&nbsp;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a> newKeyPlaceHolder</pre>
</li>
</ul>
<a id="readKey">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readKey</h4>
<pre>private final&nbsp;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a> readKey</pre>
</li>
</ul>
<a id="readValue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readValue</h4>
<pre>private final&nbsp;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a> readValue</pre>
</li>
</ul>
<a id="monitor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>monitor</h4>
<pre>private final&nbsp;<a href="GBPTree.Monitor.html" title="interface in org.neo4j.index.internal.gbptree">GBPTree.Monitor</a> monitor</pre>
</li>
</ul>
<a id="levels">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>levels</h4>
<pre>private&nbsp;<a href="InternalTreeLogic.Level.html" title="class in org.neo4j.index.internal.gbptree">InternalTreeLogic.Level</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;[] levels</pre>
<div class="block">Current path down the tree
 - level:-1 is uninitialized (so that a call to <a href="#initialize(org.neo4j.io.pagecache.PageCursor)"><code>initialize(PageCursor)</code></a> is required)
 - level: 0 is at root
 - level: 1 is at first level below root
 ... a.s.o
 <p>
 Calling <a href="#insert(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,VALUE,org.neo4j.index.internal.gbptree.ValueMerger,boolean,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)"><code>insert(PageCursor, StructurePropagation, Object, Object, ValueMerger, boolean, long, long, PageCursorTracer)</code></a>
 or <a href="#remove(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,VALUE,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)"><code>remove(PageCursor, StructurePropagation, Object, Object, long, long, PageCursorTracer)</code></a> leaves the cursor
 at the last updated page (tree node id) and remembers the path down the tree to where it is.
 Further inserts/removals will move the cursor from its current position to where the next change will
 take place using as few page pins as possible.</div>
</li>
</ul>
<a id="currentLevel">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentLevel</h4>
<pre>private&nbsp;int currentLevel</pre>
</li>
</ul>
<a id="ratioToKeepInLeftOnSplit">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ratioToKeepInLeftOnSplit</h4>
<pre>private&nbsp;double ratioToKeepInLeftOnSplit</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.neo4j.index.internal.gbptree.IdProvider,org.neo4j.index.internal.gbptree.TreeNode,org.neo4j.index.internal.gbptree.Layout,org.neo4j.index.internal.gbptree.GBPTree.Monitor)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>InternalTreeLogic</h4>
<pre>InternalTreeLogic&#8203;(<a href="IdProvider.html" title="interface in org.neo4j.index.internal.gbptree">IdProvider</a>&nbsp;idProvider,
                  <a href="TreeNode.html" title="class in org.neo4j.index.internal.gbptree">TreeNode</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>,&#8203;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&gt;&nbsp;bTreeNode,
                  <a href="Layout.html" title="interface in org.neo4j.index.internal.gbptree">Layout</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>,&#8203;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&gt;&nbsp;layout,
                  <a href="GBPTree.Monitor.html" title="interface in org.neo4j.index.internal.gbptree">GBPTree.Monitor</a>&nbsp;monitor)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="ensureStackCapacity(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureStackCapacity</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;ensureStackCapacity&#8203;(int&nbsp;depth)</pre>
</li>
</ul>
<a id="initialize(org.neo4j.io.pagecache.PageCursor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;initialize&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursorAtRoot)</pre>
</li>
</ul>
<a id="initialize(org.neo4j.io.pagecache.PageCursor,double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;initialize&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursorAtRoot,
                          double&nbsp;ratioToKeepInLeftOnSplit)</pre>
<div class="block">Prepare for starting over with new updates.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cursorAtRoot</code> - <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache"><code>PageCursor</code></a> pointing at root of tree.</dd>
<dd><code>ratioToKeepInLeftOnSplit</code> - Decide how much to keep in left node on split, 0=keep nothing, 0.5=split 50-50, 1=keep everything.</dd>
</dl>
</li>
</ul>
<a id="popLevel(org.neo4j.io.pagecache.PageCursor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>popLevel</h4>
<pre class="methodSignature">private&nbsp;boolean&nbsp;popLevel&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor)
                  throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="moveToCorrectLeaf(org.neo4j.io.pagecache.PageCursor,java.lang.Object,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a><a id="moveToCorrectLeaf(org.neo4j.io.pagecache.PageCursor,KEY,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>moveToCorrectLeaf</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;moveToCorrectLeaf&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                               <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;key,
                               long&nbsp;stableGeneration,
                               long&nbsp;unstableGeneration,
                               <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                        throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Moves the cursor to the correct leaf for <code>key</code>, taking the current path into consideration
 and moving the cursor as few hops as possible to get from the current position to the target position,
 e.g given tree:

 <pre>
              [A]
       ------/ | \------
      /        |        \
    [B]       [C]       [D]
   / | \     / | \     / | \
 [E][F][G] [H][I][J] [K][L][M]
 </pre>

 Examples:
 <p>

 inserting a key into J (path A,C,J) after previously have inserted a key into F (path A,B,F):
 <p>
 <ol>
 <li>Seeing that F doesn't cover new key</li>
 <li>Popping stack, seeing that B doesn't cover new key (only by asking existing information in path)</li>
 <li>Popping stack, seeing that A covers new key (only by asking existing information in path)</li>
 <li>Binary search A to select C to go down to</li>
 <li>Binary search C to select J to go down to</li>
 </ol>
 <p>
 inserting a key into G (path A,B,G) after previously have inserted a key into F (path A,B,F):
 <p>
 <ol>
 <li>Seeing that F doesn't cover new key</li>
 <li>Popping stack, seeing that B covers new key (only by asking existing information in path)</li>
 <li>Binary search B to select G to go down to</li>
 </ol>

 The closer keys are together from one change to the next, the fewer page pins and searches needs
 to be performed to get there.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cursor</code> - <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache"><code>PageCursor</code></a> to move to the correct location.</dd>
<dd><code>key</code> - KEY to make change for.</dd>
<dd><code>stableGeneration</code> - stable generation.</dd>
<dd><code>unstableGeneration</code> - unstable generation.</dd>
<dd><code>cursorTracer</code> - underlying page cursor tracer.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - on <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache"><code>PageCursor</code></a> error.</dd>
</dl>
</li>
</ul>
<a id="insert(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,java.lang.Object,java.lang.Object,org.neo4j.index.internal.gbptree.ValueMerger,boolean,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a><a id="insert(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,VALUE,org.neo4j.index.internal.gbptree.ValueMerger,boolean,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insert</h4>
<pre class="methodSignature">void&nbsp;insert&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
            <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
            <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;key,
            <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&nbsp;value,
            <a href="ValueMerger.html" title="interface in org.neo4j.index.internal.gbptree">ValueMerger</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>,&#8203;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&gt;&nbsp;valueMerger,
            boolean&nbsp;createIfNotExists,
            long&nbsp;stableGeneration,
            long&nbsp;unstableGeneration,
            <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
     throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Insert <code>key</code> and associate it with <code>value</code> if <code>key</code> does not already exist in
 tree.
 <p>
 If <code>key</code> already exists in tree, <code>valueMerger</code> will be used to decide how to merge existing value
 with <code>value</code>.
 <p>
 Insert may cause structural changes in the tree in form of splits and or new generation of nodes being created.
 Note that a split in a leaf can propagate all the way up to root node.
 <p>
 Structural changes in tree that need to propagate to the level above will be reported through the provided
 <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree"><code>StructurePropagation</code></a> by overwriting state. This is safe because structure changes happens one level
 at the time.
 <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree"><code>StructurePropagation</code></a> is provided from outside to minimize garbage.
 <p>
 When this method returns, <code>structurePropagation</code> will be populated with information about split or new
 generation version of root. This needs to be handled by caller.
 <p>
 Leaves cursor at the page which was last updated. No guarantees on offset.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cursor</code> - <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache"><code>PageCursor</code></a> pinned to root of tree (if first insert/remove since
 <a href="#initialize(org.neo4j.io.pagecache.PageCursor)"><code>initialize(PageCursor)</code></a>) or at where last insert/remove left it.</dd>
<dd><code>structurePropagation</code> - <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree"><code>StructurePropagation</code></a> used to report structure changes between tree levels.</dd>
<dd><code>key</code> - key to be inserted</dd>
<dd><code>value</code> - value to be associated with key</dd>
<dd><code>valueMerger</code> - <a href="ValueMerger.html" title="interface in org.neo4j.index.internal.gbptree"><code>ValueMerger</code></a> for deciding what to do with existing keys</dd>
<dd><code>createIfNotExists</code> - create this key if it doesn't exist</dd>
<dd><code>stableGeneration</code> - stable generation, i.e. generations <= this generation are considered stable.</dd>
<dd><code>unstableGeneration</code> - unstable generation, i.e. generation which is under development right now.</dd>
<dd><code>cursorTracer</code> - underlying page cursor tracer</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - on cursor failure</dd>
</dl>
</li>
</ul>
<a id="search(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.TreeNode.Type,java.lang.Object,java.lang.Object,int,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a><a id="search(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.TreeNode.Type,KEY,KEY,int,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>search</h4>
<pre class="methodSignature">private&nbsp;int&nbsp;search&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                   <a href="TreeNode.Type.html" title="enum in org.neo4j.index.internal.gbptree">TreeNode.Type</a>&nbsp;type,
                   <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;key,
                   <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;readKey,
                   int&nbsp;keyCount,
                   <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</pre>
</li>
</ul>
<a id="cursorIsAtExpectedLocation(org.neo4j.io.pagecache.PageCursor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cursorIsAtExpectedLocation</h4>
<pre class="methodSignature">private&nbsp;boolean&nbsp;cursorIsAtExpectedLocation&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor)</pre>
<div class="block">Asserts that cursor is where it's expected to be at, compared to current level.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cursor</code> - <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache"><code>PageCursor</code></a> to check.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> so that it can be called in an <code>assert</code> statement.</dd>
</dl>
</li>
</ul>
<a id="insertInInternal(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,int,java.lang.Object,long,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a><a id="insertInInternal(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,int,KEY,long,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertInInternal</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;insertInInternal&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                              <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                              int&nbsp;keyCount,
                              <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;primKey,
                              long&nbsp;rightChild,
                              long&nbsp;stableGeneration,
                              long&nbsp;unstableGeneration,
                              <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                       throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Leaves cursor at same page as when called. No guarantees on offset.
 <p>
 Insertion in internal is always triggered by a split in child.
 The result of a split is a primary key that is sent upwards in the b+tree and the newly created right child.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cursor</code> - <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache"><code>PageCursor</code></a> pinned to page containing internal node, current node</dd>
<dd><code>structurePropagation</code> - <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree"><code>StructurePropagation</code></a> used to report structure changes between tree levels.</dd>
<dd><code>keyCount</code> - the key count of current node</dd>
<dd><code>primKey</code> - the primary key to be inserted</dd>
<dd><code>rightChild</code> - the right child of primKey</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - on cursor failure</dd>
</dl>
</li>
</ul>
<a id="doInsertInInternal(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,int,java.lang.Object,long,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a><a id="doInsertInInternal(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,int,KEY,long,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doInsertInInternal</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;doInsertInInternal&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                                <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                                int&nbsp;keyCount,
                                <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;primKey,
                                long&nbsp;rightChild,
                                long&nbsp;stableGeneration,
                                long&nbsp;unstableGeneration,
                                <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                         throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="splitInternal(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,java.lang.Object,long,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a><a id="splitInternal(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,long,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splitInternal</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;splitInternal&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                           <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                           <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;newKey,
                           long&nbsp;newRightChild,
                           int&nbsp;keyCount,
                           long&nbsp;stableGeneration,
                           long&nbsp;unstableGeneration,
                           <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                    throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Leaves cursor at same page as when called. No guarantees on offset.
 <p>
 Split in internal node caused by an insertion of rightKey and newRightChild</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cursor</code> - <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache"><code>PageCursor</code></a> pinned to page containing internal node, full node.</dd>
<dd><code>structurePropagation</code> - <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree"><code>StructurePropagation</code></a> used to report structure changes between tree levels.</dd>
<dd><code>newKey</code> - new key to be inserted together with newRightChild, causing the split</dd>
<dd><code>newRightChild</code> - new child to be inserted to the right of newKey</dd>
<dd><code>keyCount</code> - key count for fullNode</dd>
<dd><code>cursorTracer</code> - underlying page cursor tracer.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - on cursor failure</dd>
</dl>
</li>
</ul>
<a id="insertInLeaf(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,java.lang.Object,java.lang.Object,org.neo4j.index.internal.gbptree.ValueMerger,boolean,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a><a id="insertInLeaf(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,VALUE,org.neo4j.index.internal.gbptree.ValueMerger,boolean,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertInLeaf</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;insertInLeaf&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                          <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                          <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;key,
                          <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&nbsp;value,
                          <a href="ValueMerger.html" title="interface in org.neo4j.index.internal.gbptree">ValueMerger</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>,&#8203;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&gt;&nbsp;valueMerger,
                          boolean&nbsp;createIfNotExists,
                          long&nbsp;stableGeneration,
                          long&nbsp;unstableGeneration,
                          <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                   throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Leaves cursor at same page as when called. No guarantees on offset.
 <p>
 Split in leaf node caused by an insertion of key and value</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cursor</code> - <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache"><code>PageCursor</code></a> pinned to page containing leaf node targeted for insertion.</dd>
<dd><code>structurePropagation</code> - <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree"><code>StructurePropagation</code></a> used to report structure changes between tree levels.</dd>
<dd><code>key</code> - key to be inserted</dd>
<dd><code>value</code> - value to be associated with key</dd>
<dd><code>valueMerger</code> - <a href="ValueMerger.html" title="interface in org.neo4j.index.internal.gbptree"><code>ValueMerger</code></a> for deciding what to do with existing keys</dd>
<dd><code>createIfNotExists</code> - create this key if it doesn't exist</dd>
<dd><code>cursorTracer</code> - underlying page cursor tracer.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - on cursor failure</dd>
</dl>
</li>
</ul>
<a id="mergeValue(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,java.lang.Object,java.lang.Object,org.neo4j.index.internal.gbptree.ValueMerger,int,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a><a id="mergeValue(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,VALUE,org.neo4j.index.internal.gbptree.ValueMerger,int,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeValue</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;mergeValue&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                        <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                        <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;key,
                        <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&nbsp;value,
                        <a href="ValueMerger.html" title="interface in org.neo4j.index.internal.gbptree">ValueMerger</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>,&#8203;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&gt;&nbsp;valueMerger,
                        int&nbsp;pos,
                        int&nbsp;keyCount,
                        long&nbsp;stableGeneration,
                        long&nbsp;unstableGeneration,
                        <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                 throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="doInsertInLeaf(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,java.lang.Object,java.lang.Object,int,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a><a id="doInsertInLeaf(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,VALUE,int,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doInsertInLeaf</h4>
<pre class="methodSignature">private&nbsp;boolean&nbsp;doInsertInLeaf&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                               <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                               <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;key,
                               <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&nbsp;value,
                               int&nbsp;pos,
                               int&nbsp;keyCount,
                               long&nbsp;stableGeneration,
                               long&nbsp;unstableGeneration,
                               <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                        throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="splitLeaf(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,java.lang.Object,java.lang.Object,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a><a id="splitLeaf(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,VALUE,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splitLeaf</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;splitLeaf&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                       <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                       <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;newKey,
                       <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&nbsp;newValue,
                       int&nbsp;keyCount,
                       long&nbsp;stableGeneration,
                       long&nbsp;unstableGeneration,
                       <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Leaves cursor at same page as when called. No guarantees on offset.
 Cursor is expected to be pointing to full leaf.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cursor</code> - cursor pointing into full (left) leaf that should be split in two.</dd>
<dd><code>structurePropagation</code> - <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree"><code>StructurePropagation</code></a> used to report structure changes between tree levels.</dd>
<dd><code>newKey</code> - key to be inserted</dd>
<dd><code>newValue</code> - value to be inserted (in association with key)</dd>
<dd><code>keyCount</code> - number of keys in this leaf (it was already read anyway)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - on cursor failure</dd>
</dl>
</li>
</ul>
<a id="remove(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,java.lang.Object,java.lang.Object,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a><a id="remove(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,VALUE,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre class="methodSignature"><a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&nbsp;remove&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
             <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
             <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;key,
             <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&nbsp;into,
             long&nbsp;stableGeneration,
             long&nbsp;unstableGeneration,
             <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
      throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Remove given <code>key</code> and associated value from tree if it exists. The removed value will be stored in
 provided <code>into</code> which will be returned for convenience.
 <p>
 If the given <code>key</code> does not exist in tree, return <code>null</code>.
 <p>
 Structural changes in tree that need to propagate to the level above will be reported through the provided
 <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree"><code>StructurePropagation</code></a> by overwriting state. This is safe because structure changes happens one level
 at the time.
 <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree"><code>StructurePropagation</code></a> is provided from outside to minimize garbage.
 <p>
 Leaves cursor at the page which was last updated. No guarantees on offset.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cursor</code> - <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache"><code>PageCursor</code></a> pinned to root of tree (if first insert/remove since
 <a href="#initialize(org.neo4j.io.pagecache.PageCursor)"><code>initialize(PageCursor)</code></a>) or at where last insert/remove left it.</dd>
<dd><code>structurePropagation</code> - <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree"><code>StructurePropagation</code></a> used to report structure changes between tree levels.</dd>
<dd><code>key</code> - key to be removed</dd>
<dd><code>into</code> - <code>VALUE</code> instance to write removed value to</dd>
<dd><code>stableGeneration</code> - stable generation, i.e. generations <= this generation are considered stable.</dd>
<dd><code>unstableGeneration</code> - unstable generation, i.e. generation which is under development right now.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Provided <code>into</code>, populated with removed value for convenience if <code>key</code> was removed.
 Otherwise <code>null</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - on cursor failure</dd>
</dl>
</li>
</ul>
<a id="handleStructureChanges(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleStructureChanges</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;handleStructureChanges&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                                    <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                                    long&nbsp;stableGeneration,
                                    long&nbsp;unstableGeneration,
                                    <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                             throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="overwriteKeyInternal(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,java.lang.Object,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a><a id="overwriteKeyInternal(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>overwriteKeyInternal</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;overwriteKeyInternal&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                                  <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                                  <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;newKey,
                                  int&nbsp;pos,
                                  long&nbsp;stableGeneration,
                                  long&nbsp;unstableGeneration,
                                  <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                           throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="tryShrinkTree(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryShrinkTree</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;tryShrinkTree&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                           <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                           long&nbsp;stableGeneration,
                           long&nbsp;unstableGeneration,
                           <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                    throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="updateMidChild(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,int,long,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateMidChild</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;updateMidChild&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                            <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                            int&nbsp;childPos,
                            long&nbsp;stableGeneration,
                            long&nbsp;unstableGeneration)</pre>
</li>
</ul>
<a id="replaceKeyByBubbleRightmostFromSubtree(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replaceKeyByBubbleRightmostFromSubtree</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;replaceKeyByBubbleRightmostFromSubtree&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                                                    <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                                                    int&nbsp;subtreePosition,
                                                    long&nbsp;stableGeneration,
                                                    long&nbsp;unstableGeneration,
                                                    <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                                             throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="bubbleRightmostKeyRecursive(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,long,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bubbleRightmostKeyRecursive</h4>
<pre class="methodSignature">private&nbsp;boolean&nbsp;bubbleRightmostKeyRecursive&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                                            <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                                            long&nbsp;previousNode,
                                            long&nbsp;stableGeneration,
                                            long&nbsp;unstableGeneration,
                                            <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                                     throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="simplyRemoveFromInternal(org.neo4j.io.pagecache.PageCursor,int,int,boolean,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>simplyRemoveFromInternal</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;simplyRemoveFromInternal&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                                      int&nbsp;keyCount,
                                      int&nbsp;keyPos,
                                      boolean&nbsp;leftChild,
                                      long&nbsp;stableGeneration,
                                      long&nbsp;unstableGeneration,
                                      <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                               throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="updateRightmostChildInLeftSibling(org.neo4j.io.pagecache.PageCursor,long,long,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateRightmostChildInLeftSibling</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;updateRightmostChildInLeftSibling&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                                               long&nbsp;childPointer,
                                               long&nbsp;stableGeneration,
                                               long&nbsp;unstableGeneration)
                                        throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="updateLeftmostChildInRightSibling(org.neo4j.io.pagecache.PageCursor,long,long,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateLeftmostChildInRightSibling</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;updateLeftmostChildInRightSibling&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                                               long&nbsp;childPointer,
                                               long&nbsp;stableGeneration,
                                               long&nbsp;unstableGeneration)
                                        throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="removeFromLeaf(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,java.lang.Object,java.lang.Object,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a><a id="removeFromLeaf(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,KEY,VALUE,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFromLeaf</h4>
<pre class="methodSignature">private&nbsp;boolean&nbsp;removeFromLeaf&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                               <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                               <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&nbsp;key,
                               <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&nbsp;into,
                               long&nbsp;stableGeneration,
                               long&nbsp;unstableGeneration,
                               <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                        throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Remove given <code>key</code> and associated value from tree if it exists. The removed value will be stored in
 provided <code>into</code> which will be returned for convenience.
 <p>
 If the given <code>key</code> does not exist in tree, return <code>null</code>.
 <p>
 Leaves cursor at same page as when called. No guarantees on offset.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cursor</code> - <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache"><code>PageCursor</code></a> pinned to page where remove is to be done.</dd>
<dd><code>structurePropagation</code> - <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree"><code>StructurePropagation</code></a> used to report structure changes between tree levels.</dd>
<dd><code>key</code> - key to be removed</dd>
<dd><code>into</code> - <code>VALUE</code> instance to write removed value to</dd>
<dd><code>stableGeneration</code> - stable generation, i.e. generations <= this generation are considered stable.</dd>
<dd><code>unstableGeneration</code> - unstable generation, i.e. generation which is under development right now.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if key was removed, otherwise <code>false</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - on cursor failure</dd>
</dl>
</li>
</ul>
<a id="underflowInLeaf(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>underflowInLeaf</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;underflowInLeaf&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                             <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                             int&nbsp;keyCount,
                             long&nbsp;stableGeneration,
                             long&nbsp;unstableGeneration,
                             <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                      throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="connectLeftAndRightSibling(org.neo4j.io.pagecache.PageCursor,long,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectLeftAndRightSibling</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;connectLeftAndRightSibling&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                                        long&nbsp;stableGeneration,
                                        long&nbsp;unstableGeneration)
                                 throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="mergeToRightSiblingLeaf(org.neo4j.io.pagecache.PageCursor,org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,int,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeToRightSiblingLeaf</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;mergeToRightSiblingLeaf&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                                     <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;rightSiblingCursor,
                                     <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                                     int&nbsp;keyCount,
                                     int&nbsp;rightSiblingKeyCount,
                                     long&nbsp;stableGeneration,
                                     long&nbsp;unstableGeneration,
                                     <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                              throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="mergeFromLeftSiblingLeaf(org.neo4j.io.pagecache.PageCursor,org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,int,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeFromLeftSiblingLeaf</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;mergeFromLeftSiblingLeaf&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                                      <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;leftSiblingCursor,
                                      <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                                      int&nbsp;keyCount,
                                      int&nbsp;leftSiblingKeyCount,
                                      long&nbsp;stableGeneration,
                                      long&nbsp;unstableGeneration,
                                      <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                               throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="merge(org.neo4j.io.pagecache.PageCursor,int,org.neo4j.io.pagecache.PageCursor,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>merge</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;merge&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;leftSiblingCursor,
                   int&nbsp;leftSiblingKeyCount,
                   <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;rightSiblingCursor,
                   int&nbsp;rightSiblingKeyCount,
                   long&nbsp;stableGeneration,
                   long&nbsp;unstableGeneration,
                   <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
            throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="rebalanceLeaf(org.neo4j.io.pagecache.PageCursor,int,org.neo4j.io.pagecache.PageCursor,int,int,org.neo4j.index.internal.gbptree.StructurePropagation,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rebalanceLeaf</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;rebalanceLeaf&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;leftCursor,
                           int&nbsp;leftKeyCount,
                           <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;rightCursor,
                           int&nbsp;rightKeyCount,
                           int&nbsp;numberOfKeysToMove,
                           <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                           <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)</pre>
</li>
</ul>
<a id="simplyRemoveFromLeaf(org.neo4j.io.pagecache.PageCursor,java.lang.Object,int,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a><a id="simplyRemoveFromLeaf(org.neo4j.io.pagecache.PageCursor,VALUE,int,int,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>simplyRemoveFromLeaf</h4>
<pre class="methodSignature">private&nbsp;int&nbsp;simplyRemoveFromLeaf&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                                 <a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">VALUE</a>&nbsp;into,
                                 int&nbsp;keyCount,
                                 int&nbsp;pos,
                                 long&nbsp;stableGeneration,
                                 long&nbsp;unstableGeneration,
                                 <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                          throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Remove key and value on given position and decrement key count. Deleted value is stored in <code>into</code>.
 Key count after remove is returned.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cursor</code> - Cursor pinned to node in which to remove from,</dd>
<dd><code>into</code> - VALUE in which to store removed value</dd>
<dd><code>keyCount</code> - Key count of node before remove</dd>
<dd><code>pos</code> - Position to remove from</dd>
<dd><code>stableGeneration</code> - stable generation, i.e. generations <= this generation are considered stable.</dd>
<dd><code>unstableGeneration</code> - unstable generation, i.e. generation which is under development right now.</dd>
<dd><code>cursorTracer</code> - underlying page cursor tracer.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>keyCount after remove</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="createSuccessorIfNeeded(org.neo4j.io.pagecache.PageCursor,org.neo4j.index.internal.gbptree.StructurePropagation,org.neo4j.index.internal.gbptree.StructurePropagation.StructureUpdate,long,long,org.neo4j.io.pagecache.tracing.cursor.PageCursorTracer)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>createSuccessorIfNeeded</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;createSuccessorIfNeeded&#8203;(<a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache">PageCursor</a>&nbsp;cursor,
                                     <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree">StructurePropagation</a>&lt;<a href="InternalTreeLogic.html" title="type parameter in InternalTreeLogic">KEY</a>&gt;&nbsp;structurePropagation,
                                     <a href="StructurePropagation.StructureUpdate.html" title="interface in org.neo4j.index.internal.gbptree">StructurePropagation.StructureUpdate</a>&nbsp;structureUpdate,
                                     long&nbsp;stableGeneration,
                                     long&nbsp;unstableGeneration,
                                     <a href="../../../io/pagecache/tracing/cursor/PageCursorTracer.html" title="interface in org.neo4j.io.pagecache.tracing.cursor">PageCursorTracer</a>&nbsp;cursorTracer)
                              throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Create a new node and copy content from current node (where <code>cursor</code> sits) if current node is not already
 of <code>unstableGeneration</code>.
 <p>
 Neighboring nodes' sibling pointers will be updated to point to new node.
 <p>
 Current node will be updated with successor pointer to new node.
 <p>
 <code>structurePropagation</code> will be updated with information about this new node so that it can report to
 level above.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cursor</code> - <a href="../../../io/pagecache/PageCursor.html" title="class in org.neo4j.io.pagecache"><code>PageCursor</code></a> pinned to page containing node to potentially create a new version of</dd>
<dd><code>structurePropagation</code> - <a href="StructurePropagation.html" title="class in org.neo4j.index.internal.gbptree"><code>StructurePropagation</code></a> used to report structure changes between tree levels.</dd>
<dd><code>structureUpdate</code> - <a href="StructurePropagation.StructureUpdate.html" title="interface in org.neo4j.index.internal.gbptree"><code>StructurePropagation.StructureUpdate</code></a> define how to update structurePropagation
 if new unstable version is created</dd>
<dd><code>stableGeneration</code> - stable generation, i.e. generations <= this generation are considered stable.</dd>
<dd><code>unstableGeneration</code> - unstable generation, i.e. generation which is under development right now.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - on cursor failure</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/InternalTreeLogic.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2002&#x2013;2020 <a href="https://neo4j.com/">The Neo4j Graph Database Project</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
