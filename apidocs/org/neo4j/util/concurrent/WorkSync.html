<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (11.0.8) on Wed Dec 02 12:58:02 CET 2020 -->
<title>WorkSync (Neo4j 4.2.2-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-12-02">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="WorkSync (Neo4j 4.2.2-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WorkSync.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.neo4j.util.concurrent</a></div>
<h2 title="Class WorkSync" class="title">Class WorkSync&lt;Material,&#8203;W extends <a href="Work.html" title="interface in org.neo4j.util.concurrent">Work</a>&lt;Material,&#8203;W&gt;&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.neo4j.util.concurrent.WorkSync&lt;Material,&#8203;W&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">WorkSync&lt;Material,&#8203;W extends <a href="Work.html" title="interface in org.neo4j.util.concurrent">Work</a>&lt;Material,&#8203;W&gt;&gt;</span>
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">Turns multi-threaded unary work into single-threaded stack work.
 <p>
 The technique used here is inspired in part both by the Flat Combining
 concept from Hendler, Incze, Shavit &amp; Tzafrir, and in part by the
 wait-free linked queue design by Vyukov.
 </p>
 <p>
 In a sense, this turns many small, presumably concurrent, pieces of work
 into fewer, larger batches of work, that is then applied to the material
 under synchronisation.
 </p>
 <p>
 Obviously this only makes sense for work that a) can be combined, and b)
 where the performance improvements from batching effects is large enough
 to overcome the overhead of collecting and batching up the work units.
 </p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="Work.html" title="interface in org.neo4j.util.concurrent"><code>Work</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;<a href="WorkSync.WorkUnit.html" title="type parameter in WorkSync.WorkUnit">Material</a>,&#8203;<a href="WorkSync.WorkUnit.html" title="type parameter in WorkSync.WorkUnit">W</a> extends <a href="Work.html" title="interface in org.neo4j.util.concurrent">Work</a>&lt;<a href="WorkSync.WorkUnit.html" title="type parameter in WorkSync.WorkUnit">Material</a>,&#8203;<a href="WorkSync.WorkUnit.html" title="type parameter in WorkSync.WorkUnit">W</a>&gt;&gt;</span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html?is-external=true" title="class or interface in java.util.concurrent.atomic" class="externalLink">AtomicReference</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink">Thread</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lock">lock</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="WorkSync.html" title="type parameter in WorkSync">Material</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#material">material</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html?is-external=true" title="class or interface in java.util.concurrent.atomic" class="externalLink">AtomicReference</a>&lt;<a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>,&#8203;<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#stack">stack</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;?,&#8203;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#stackEnd">stackEnd</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(Material)">WorkSync</a></span>&#8203;(<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>&nbsp;material)</code></th>
<td class="colLast">
<div class="block">Create a new WorkSync that will synchronize the application of work to
 the given material.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#apply(W)">apply</a></span>&#8203;(<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&nbsp;work)</code></th>
<td class="colLast">
<div class="block">Apply the given work to the material in a thread-safe way, possibly by
 combining it with other work.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="AsyncApply.html" title="interface in org.neo4j.util.concurrent">AsyncApply</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#applyAsync(W)">applyAsync</a></span>&#8203;(<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&nbsp;work)</code></th>
<td class="colLast">
<div class="block">Apply the given work to the material in a thread-safe way, possibly asynchronously if contention is observed
 with other threads, and possibly by combining it with other work.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkFailure(java.lang.Throwable)">checkFailure</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a>&nbsp;failure)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private <a href="WorkSync.html" title="type parameter in WorkSync">W</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#combine(org.neo4j.util.concurrent.WorkSync.WorkUnit)">combine</a></span>&#8203;(<a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>,&#8203;<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&gt;&nbsp;batch)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doSynchronizedWork(org.neo4j.util.concurrent.WorkSync.WorkUnit)">doSynchronizedWork</a></span>&#8203;(<a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>,&#8203;<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&gt;&nbsp;batch)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private <a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>,&#8203;<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#enqueueWork(W)">enqueueWork</a></span>&#8203;(<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&nbsp;work)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private <a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>,&#8203;<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#grabBatch()">grabBatch</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#markAsDone(org.neo4j.util.concurrent.WorkSync.WorkUnit)">markAsDone</a></span>&#8203;(<a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>,&#8203;<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&gt;&nbsp;batch)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryDoWork(org.neo4j.util.concurrent.WorkSync.WorkUnit,boolean)">tryDoWork</a></span>&#8203;(<a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>,&#8203;<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&gt;&nbsp;unit,
         boolean&nbsp;block)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryLock(org.neo4j.util.concurrent.WorkSync.WorkUnit,boolean)">tryLock</a></span>&#8203;(<a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>,&#8203;<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&gt;&nbsp;unit,
       boolean&nbsp;block)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unlock()">unlock</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unparkAnyWaiters()">unparkAnyWaiters</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="material">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>material</h4>
<pre>private final&nbsp;<a href="WorkSync.html" title="type parameter in WorkSync">Material</a> material</pre>
</li>
</ul>
<a id="stack">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stack</h4>
<pre>private final&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html?is-external=true" title="class or interface in java.util.concurrent.atomic" class="externalLink">AtomicReference</a>&lt;<a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>,&#8203;<a href="WorkSync.html" title="type parameter in WorkSync">W</a> extends <a href="Work.html" title="interface in org.neo4j.util.concurrent">Work</a>&lt;<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>,&#8203;<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&gt;&gt;&gt; stack</pre>
</li>
</ul>
<a id="stackEnd">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stackEnd</h4>
<pre>private static final&nbsp;<a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;?,&#8203;?&gt; stackEnd</pre>
</li>
</ul>
<a id="lock">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>lock</h4>
<pre>private final&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html?is-external=true" title="class or interface in java.util.concurrent.atomic" class="externalLink">AtomicReference</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html?is-external=true" title="class or interface in java.lang" class="externalLink">Thread</a>&gt; lock</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.lang.Object)">
<!--   -->
</a><a id="&lt;init&gt;(Material)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>WorkSync</h4>
<pre>public&nbsp;WorkSync&#8203;(<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>&nbsp;material)</pre>
<div class="block">Create a new WorkSync that will synchronize the application of work to
 the given material.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>material</code> - The material we want to apply work to, in a thread-safe
 way.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="apply(org.neo4j.util.concurrent.Work)">
<!--   -->
</a><a id="apply(W)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>apply</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;apply&#8203;(<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&nbsp;work)
           throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">ExecutionException</a></pre>
<div class="block">Apply the given work to the material in a thread-safe way, possibly by
 combining it with other work.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>work</code> - The work to be done.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">ExecutionException</a></code> - if this thread ends up performing the piled up work,
 and any work unit in the pile throws an exception. Thus the current thread is not
 guaranteed to observe any exception its unit of work might throw, since the
 exception will be thrown in whichever thread that ends up actually performing the work.</dd>
</dl>
</li>
</ul>
<a id="applyAsync(org.neo4j.util.concurrent.Work)">
<!--   -->
</a><a id="applyAsync(W)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyAsync</h4>
<pre class="methodSignature">public&nbsp;<a href="AsyncApply.html" title="interface in org.neo4j.util.concurrent">AsyncApply</a>&nbsp;applyAsync&#8203;(<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&nbsp;work)</pre>
<div class="block">Apply the given work to the material in a thread-safe way, possibly asynchronously if contention is observed
 with other threads, and possibly by combining it with other work.
 <p>
 The work will be applied immediately, if no other thread is contending for the material. Otherwise, the work
 will be enqueued for later application, which may occur on the next call to <a href="#apply(W)"><code>apply(Work)</code></a> on this
 <code>WorkSync</code>, or the next call to <a href="AsyncApply.html#await()"><code>AsyncApply.await()</code></a> from an <code>AsyncApply</code> instance created
 from this <code>WorkSync</code>. These calls, and thus the application of the enqueued work, may occur in an
 arbitrary thread.
 <p>
 The returned <a href="AsyncApply.html" title="interface in org.neo4j.util.concurrent"><code>AsyncApply</code></a> instance is not thread-safe. If so desired, its ownership can be transferred to
 other threads, but only in a way that ensures safe publication.
 <p>
 If the given work causes an exception to be thrown, then that exception will only be observed by the thread that
 ultimately applies the work. Thus, exceptions caused by this work are not guaranteed to be associated with, or
 made visible via, the returned <a href="AsyncApply.html" title="interface in org.neo4j.util.concurrent"><code>AsyncApply</code></a> instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>work</code> - The work to be done.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An <a href="AsyncApply.html" title="interface in org.neo4j.util.concurrent"><code>AsyncApply</code></a> instance representing the enqueued - and possibly completed - work.</dd>
</dl>
</li>
</ul>
<a id="enqueueWork(org.neo4j.util.concurrent.Work)">
<!--   -->
</a><a id="enqueueWork(W)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enqueueWork</h4>
<pre class="methodSignature">private&nbsp;<a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>,&#8203;<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&gt;&nbsp;enqueueWork&#8203;(<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&nbsp;work)</pre>
</li>
</ul>
<a id="tryDoWork(org.neo4j.util.concurrent.WorkSync.WorkUnit,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryDoWork</h4>
<pre class="methodSignature">private&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a>&nbsp;tryDoWork&#8203;(<a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>,&#8203;<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&gt;&nbsp;unit,
                            boolean&nbsp;block)</pre>
</li>
</ul>
<a id="unparkAnyWaiters()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unparkAnyWaiters</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;unparkAnyWaiters()</pre>
</li>
</ul>
<a id="checkFailure(java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkFailure</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;checkFailure&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a>&nbsp;failure)
                   throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">ExecutionException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">ExecutionException</a></code></dd>
</dl>
</li>
</ul>
<a id="tryLock(org.neo4j.util.concurrent.WorkSync.WorkUnit,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryLock</h4>
<pre class="methodSignature">private&nbsp;boolean&nbsp;tryLock&#8203;(<a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>,&#8203;<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&gt;&nbsp;unit,
                        boolean&nbsp;block)</pre>
</li>
</ul>
<a id="unlock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;unlock()</pre>
</li>
</ul>
<a id="grabBatch()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>grabBatch</h4>
<pre class="methodSignature">private&nbsp;<a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>,&#8203;<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&gt;&nbsp;grabBatch()</pre>
</li>
</ul>
<a id="doSynchronizedWork(org.neo4j.util.concurrent.WorkSync.WorkUnit)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doSynchronizedWork</h4>
<pre class="methodSignature">private&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a>&nbsp;doSynchronizedWork&#8203;(<a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>,&#8203;<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&gt;&nbsp;batch)</pre>
</li>
</ul>
<a id="combine(org.neo4j.util.concurrent.WorkSync.WorkUnit)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>combine</h4>
<pre class="methodSignature">private&nbsp;<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&nbsp;combine&#8203;(<a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>,&#8203;<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&gt;&nbsp;batch)</pre>
</li>
</ul>
<a id="markAsDone(org.neo4j.util.concurrent.WorkSync.WorkUnit)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>markAsDone</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;markAsDone&#8203;(<a href="WorkSync.WorkUnit.html" title="class in org.neo4j.util.concurrent">WorkSync.WorkUnit</a>&lt;<a href="WorkSync.html" title="type parameter in WorkSync">Material</a>,&#8203;<a href="WorkSync.html" title="type parameter in WorkSync">W</a>&gt;&nbsp;batch)</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WorkSync.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2002&#x2013;2020 <a href="https://neo4j.com/">The Neo4j Graph Database Project</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
